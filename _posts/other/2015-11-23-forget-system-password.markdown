---
layout: article
title:  "忘记系统密码"
date:   2015-11-23 09:20:00 +0800
categories: other
---

曾经朋友找我，说他的电脑密码忘记了，问我能不能破解，咱这B格那么高的人，肯定要会这项技能啊，所以必然说会，结果，他来句，他是苹果电脑，学过windows、linux还真的没有碰过MAC OS的，所以，为了B格的稳定，我去学习了一下，也还是挺简单的，为了方便以后查看，保持B格的地位，这里做一下总结。

----------

首先说大家常见的**windows**系统：

这个windows破解，需要辅助工具，如：大白菜、老毛桃、U盘启动大师等等`（声明：我不是搞推销的哈）`，安装到了U盘，或者光盘之后，只需要从新开机，然后启动，就会看到有“运行windows破解密码”的菜单栏，名字大致雷同，然后按照提示，一步一步操作即可。

当然，windows也有好多种系统，比如：xp/win7/win8/win10等等，所以注意下你安装的工具版本

----------

然后说一下我常用的**linux**系统：

这里不得不介绍以下**单用户**这个词。在我看来，他是用来修复系统的。单用户模式下，系统并没有完全运行进来，也不能进行`ssh`远程登录，进入单用户模式进行系统维护是由`ROOT`用户来进行操作的，而且是要由`ROOT`直接进入，并没有密码效验，这时的`ROOT`用户对系统有完全的操作权限，可以修复系统，也能随时对系统进行破坏。当然，我要讲的是如何更改密码。

如何进入**单用户**模式：在命令行，直接输入`init 1`就可以啦，哈哈，因为忘记了密码，所以这里，我采用的是以`grub`方式进入的，方法很简单，也是常用的。

1.重启服务器，待`grub`启动后，你会看到linux的启动项，这个时候，你要在读秒结束前，摁下键盘`e`键，进行选择启动`kernel`内核操作

2.然后选中你想要启动的`kernel`的行，如：`CentOS (2.6.32-573.8.1.el6.x86_64)` 再次摁下`e`键进行编辑

3.选中内容为`kernel /vmlinuz-2.6.32 ...`这行，再次输入`e`键，来编辑次内核

4.在行尾加上数字`1`或者`linux single`都是进入单用户模式的意思，我一般都写`1`多简单，我是英语菜鸟一枚，之后摁下回车键完成编辑，然后摁下`b`键，则是重新启动系统，如果你刚才选中的`kernel`不是默认的，则你需要再次摁`e`找到你编辑的`kernel`摁下回车，以次`kernel`启动系统，改密码就不要那么麻烦了，用默认的就好。

5.之后你会发现，不用输入密码就能进入系统了，命令行提示符：`[root@localhost /]#`看到这个井号，就是说是root权限了，那么你就可以直接输入`passwd root`进行更改密码了。更改了密码，重启就行了

这里有一个小提示，我记得曾经遇到过，这样操作之后，发现密码没有更改成功，研究了一下，似乎是`SElinux`的问题，所以在你输入`passwd root`之前，你需要先执行`setenforce 0`使其进入宽容模式，然后在执行后面的操作。如果还不行，我就不清楚你的原因了。

这里再来一个小提示，不要嫌我啰嗦哈，有一种情况就是你进`grub`的时候让你输入密码，这时候，我肯定会要仰天长啸，大喊：握草！确实，太狠了，竟然给我设置了密码，不过不要怕，黑客有它的方法，咱们也有咱们的方法，这个时候，你就只能用辅助工具了，找一个U盘，做成 `linuxlive-usb`启动盘，以U盘启动，把你的系统盘挂在到现在的系统上，然后消除你的`grub`密码，之后在重启就不会在又`grub`密码了，这里我就不说怎么做了，不是此文的重点。

----------

最后就是我们刚说的**MAC OS**系统了

更改MAC系统有两种方法，我用的是第二种

方法1：官方解决方法。找出`MAC OS`的系统盘，重启电脑，启动的时候按`C`键，选好语言后进入安装的时候，点击“常用工具”，里面有一项是“重设密码”，这时就可以重新设定`Mac OS`系统的管理员密码了。

方法2：纯属的破解，重启电脑，启动时候按`command(apple图标键)+S`键，这个跟`linux`类似，也是进入单一用户模式`(single user model)`。进入系统后会出现提示符：`#root>`,之后执行下面的命令即可。


    /sbin/fsck -y   执行硬盘检测（只读），挺浪费时间，不执行也行

    /sbin/mount -uaw 加载文件系统（读/写）

    rm /var/db/.AppleSetupDone  删除初始化设置时的OSX生成的隐藏文件`.applesetupdone`

    reboot重启

    
重新启动后出现类似装机时的欢迎界面。根据提示重新建立一个新的管理员账号`(注意这里要换一个新的账户名称)`。然后用新的管理员账号登录进去，修改之前账户的密码，注销，切换账户即可。


----------

补充，补充，我遇到了ubuntu系统，这里有必要从新补充一下此文章

更改Ubuntu系统的密码，也是重启后操作的，下面进行介绍

开机，按`shift`选中第二个`advanced… `摁回车

如下图操作：

![ubuntu-password](/images/other/ubuntu-alter-password.jpg)

到这里把光标移动到boot上。回车。

1.如果passwd root 改密码报错

{% highlight bash %}
{% raw %}

Authentication token manipulation error

{% endraw %}
{% endhighlight %}

2.则：

{% highlight bash %}
{% raw %}

chmod 666 /dev/null
Mount –o
remount,rw /
Chmod 777
/etc/passwd
Pwconv

{% endraw %}
{% endhighlight %}

3.输入这些都成功之后直接passwd更改密码，然后reboot重启即可